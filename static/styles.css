:root {
    --primary: #0d6efd;
    --secondary: #6c757d;
    --success: #198754;
    --danger: #dc3545;
    --light: #f8f9fa;
    --dark: #212529;
    --white: #ffffff;

    --font-sans: "Vazirmatn", "Helvetica Neue";
    --radius: 12px;
}

body {
    font-family: var(--font-sans), Arial, sans-serif;
    background: var(--light);
    color: var(--dark);
    margin: 0;
    direction: rtl;
    text-align: right;
}


/* بنر بالای صفحه */
.banner {
    background: #343a40;
    color: #fff;
    padding: 2rem;
    text-align: center;
    margin-bottom: 2rem;
}

/* گرید محصولات */
.products {
    display: grid;
    grid-template-columns:repeat(auto-fill, minmax(180px, 1fr));
    gap: 1.2rem;
    padding: 0 0 2rem;
    justify-items: center;
}


.product-card {
    background: var(--white);
    position: relative;
    border-radius: var(--radius);
    box-shadow: 0 2px 8px rgba(0, 0, 0, .08);
    overflow: hidden;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    transition: transform .2s ease, box-shadow .2s ease;
}

.product-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 6px 14px rgba(0, 0, 0, .12);
}

.stock-badge{
  position:absolute;
  bottom:8px;
  left:8px;
  background:var(--success);
  color:var(--white);
  font-size:.75rem;
  padding:2px 6px;
  border-radius:var(--radius);
  pointer-events:none;  /* کلیک رو نگیریم */
}
.stock-badge.low{background:var(--danger);}    /* موجودی کم */
.stock-badge.out{
  background:var(--secondary);
  opacity:.7;
}


/* تصویر */
.img-wrap {
    flex: 1 1 160px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f1f3f5;
}

.img-wrap img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    padding: .5rem;
}

/* بدنهٔ کارت */
.card-body {
    padding: .6rem .8rem;
}

.prod-title {
    font-size: .9rem;
    line-height: 1.3;
    font-weight: 500;
    height: 2.4em; /* دو خط؛ بقیه مخفی */
    overflow: hidden;
    margin: 0 0 .4rem;
    color:#212529;
}

.price-stock {
    display: flex;
    justify-content: space-between;
    font-size: .85rem;
}

.price {
    color: var(--primary);
    font-weight: 700;
}

/* لایهٔ توضیح + دکمه */
.overlay {
    position: absolute;
    inset: 0;
    background: rgba(255, 255, 255, .94);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: .7rem;
    opacity: 0;
    transition: opacity .25s ease;
    color:#212529;
}

.product-card:hover .overlay {
    opacity: 1;
}


.add-btn {
    background: #28a745; /* سبز */
    color: #fff;
    border: none;
    padding: .5rem 1rem;
    border-radius: 4px;
    margin-top: .5rem;
    cursor: pointer;
}
.topbar{
  position:sticky;          /* همیشه بالا بمونه */
  top:0; z-index:1000;
  display:flex;
  align-items:center;
  gap:1rem;
  padding:.6rem 1rem;
  background:rgba(255,255,255,.8);   /* نیمه‌شفاف */
  backdrop-filter:blur(6px);         /* افکت شیشه‌ای */
  border-bottom:1px solid #e5e7eb;
}
.topbar a{
  color:var(--dark);
  text-decoration:none;
  font-weight:500;
  transition:color .2s;
}
.topbar a:hover{color:var(--primary);}


.auth-form {
    width: 300px;
    margin: 2rem auto;
    background: #fff;
    padding: 1.5rem;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, .1);
}

.auth-form h2 {
    margin-top: 0;
    text-align: center;
}

.auth-form label {
    display: block;
    margin-bottom: .5rem;
}

.auth-form input {
    width: 100%;
    padding: .4rem;
    margin-top: .2rem;
    border: 1px solid #ddd;
    border-radius: 4px;
}

.auth-form button {
    width: 100%;
    margin-top: 1rem;
    padding: .5rem;
    background: #28a745;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

/* دکمه گرد سبد خرید پایین راست */
.cart-fab{
  position:fixed;
  bottom:24px;
  right:24px;
  width:56px;height:56px;
  background:var(--success);
  color:var(--white);
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:1.4rem;
  text-decoration:none;
  box-shadow:0 4px 12px rgba(0,0,0,.25);
  opacity:0;transform:translateY(40px) scale(.9);
  will-change:opacity,transform;
  animation:fabAppear .6s .3s forwards cubic-bezier(.25,.8,.25,1);
  transition:transform .2s;
}
.cart-fab:hover{transform:translateY(-2px) scale(1.05);}
.cart-fab .badge{
  background:var(--white);
  color:var(--success);
  border-radius:50%;
  padding:2px 6px;
  font-size:.8rem;
  margin-right:4px;
}

/* ورود لطیف */
@keyframes fabAppear{
  to{opacity:1;transform:translateY(0) scale(1);}
}

/* پالس نرم */
@keyframes fabPulse{
  0%{transform:translateY(0) scale(1);}
  50%{transform:translateY(-3px) scale(1.12);}
  100%{transform:translateY(0) scale(1);}
}


/* جدول سبد خرید */
.cart-table {
    width: 90%;
    margin: 1rem auto;
    border-collapse: collapse;
}

.cart-table th, .cart-table td {
    border: 1px solid #ddd;
    padding: .5rem;
    text-align: center;
}

.checkout-btn {
    display: block;
    margin: 1rem auto 2rem;
    background: #007bff;
    color: #fff;
    border: none;
    padding: .6rem 2rem;
    border-radius: 4px;
    cursor: pointer;
}
.checkout-btn:hover{background:#0069d9;}

.rm-btn {
    background: #dc3545;
    color: #fff;
    border: none;
    padding: .3rem .8rem;
    border-radius: 4px;
    cursor: pointer;
}

.admin-menu{
  position:absolute;
  background:var(--white);
  border:1px solid #ddd;
  border-radius:6px;
  box-shadow:0 2px 8px rgba(0,0,0,.15);
  min-width:140px;
  cursor:move;              /* اشاره‌گر دستِ جابجایی */
  z-index:1200;
  display:none;
}
.admin-menu button{
  display:block;width:100%;
  padding:.4rem .8rem;border:none;
  background:none;text-align:right;cursor:pointer;
}
.admin-menu button:hover{background:#f1f1f1;}


.container {
    width: min(1200px, 90%);
    margin: 0 auto;
}

.logo{
  font-weight:700;
  color:var(--dark);
  text-decoration:none;
  display:flex;
  align-items:center;
  gap:4px;
  font-size:1rem;
  transition:color .2s ease;
}
.logo:hover{color:var(--primary);}

.banner{
  background:linear-gradient(135deg,var(--primary) 0%,#0b5ed7 100%);
  color:var(--white);
  padding:3.5rem 0 2.5rem;
  text-align:center;
  margin-bottom:2rem;
}
.banner h1{
  font-size:1.8rem;
  margin:.2rem 0 .6rem;
}
.banner p{
  font-size:1rem;
  margin:.2rem 0 .8rem;
  opacity:.9;
}
.cta-btn{
  display:inline-block;
  background:var(--success);
  color:var(--white);
  padding:.6rem 1.4rem;
  border-radius:var(--radius);
  font-weight:700;
  transition:background .2s ease;
}
.cta-btn:hover{background:#157347;}

.toast{
  position:fixed;
  bottom:24px;
  right:24px;
  background:var(--dark);
  color:var(--white);
  padding:.8rem 1.2rem;
  border-radius:var(--radius);
  box-shadow:0 4px 12px rgba(0,0,0,.2);
  opacity:0;
  transform:translateY(20px);
  transition:opacity .3s ease,transform .3s ease;
  z-index:2000;
}
.toast.show{opacity:1;transform:translateY(0);}
.toast.success{background:var(--success);}
.toast.error{background:var(--danger);}

@media(max-width:600px){
  .cart-table thead{display:none;}
  .cart-table,tr,td{display:block;width:100%;}
  .cart-table tr{margin-bottom:.8rem;border:1px solid #ddd;border-radius:var(--radius);overflow:hidden;}
  .cart-table td{border:none;padding:.6rem 1rem;text-align:right;}
  .cart-table td::before{
    content:attr(data-label);
    font-weight:700;
    margin-left:.4rem;
    color:var(--secondary);
  }
}

.modal-overlay{
  position:fixed;inset:0;
  background:rgba(0,0,0,.4);
  display:flex;align-items:center;justify-content:center;
  z-index:1500;opacity:0;pointer-events:none;
  transition:opacity .25s ease;
}
.modal-overlay.show{opacity:1;pointer-events:auto;}

.modal{
  background:var(--white);
  width:90%;max-width:340px;
  border-radius:var(--radius);
  padding:2rem 1.5rem 1.8rem;
  position:relative;
  box-shadow:0 4px 12px rgba(0,0,0,.15);
  animation:pop .3s ease;
}
@keyframes pop{from{transform:scale(.8);opacity:0;}to{transform:scale(1);opacity:1;}}

.modal h2{text-align:center;margin:0 0 1rem;}
.modal form{display:flex;flex-direction:column;gap:.8rem;}
.modal input{
  padding:.5rem .6rem;border:1px solid #ddd;border-radius:var(--radius);
}
.modal button[type=submit]{
  background:var(--primary);color:#fff;border:none;
  padding:.6rem;border-radius:var(--radius);cursor:pointer;
}
.close-btn{
  position:absolute;top:8px;left:8px;
  background:none;border:none;font-size:1.1rem;cursor:pointer;
}

.switcher{font-size:.85rem;text-align:center;}
.switcher a{color:var(--primary);}

.profile-input{
  width:100%;padding:.5rem;border:1px solid #ddd;border-radius:var(--radius);
}

.profile-btn{
  background:var(--primary);
  color:#fff;
  border:none;
  padding:.55rem 1.2rem;
  border-radius:var(--radius);
  cursor:pointer;
  transition:background .2s;
}
.profile-btn:hover{background:#0b5ed7;}

/* ===== Dark Mode ===== */
:root.dark{
  --light:#121212;
  --dark:#e9ecef;
  --primary:#4dabf7;
  --secondary:#adb5bd;
  --success:#51cf66;
  --danger:#ff6b6b;
}
:root.dark body{background:var(--light);color:var(--dark);}
:root.dark .topbar{background:rgba(18,18,18,.8);backdrop-filter:blur(6px);}
:root.dark .product-card{box-shadow:0 2px 8px rgba(0,0,0,.6);}
:root.dark .modal{background:#1e1e1e;color:var(--dark);}
:root.dark .banner{background:linear-gradient(135deg,#3b5bdb 0%,#364fc7 100%);}
:root.dark .cart-table tr{border-color:#333;}
/* … می‌تونی بعداً کامپوننت‌های دیگه رو هم اضافه کنی … */

/* دکمه سوییچ تم */
#themeToggle{
  position:fixed;bottom:24px;left:24px; /* گوشهٔ چپ پایین */
  width:44px;height:44px;border:none;
  border-radius:50%;font-size:1.2rem;
  background:var(--secondary);color:#fff;
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;box-shadow:0 4px 8px rgba(0,0,0,.25);
  transition:background .2s;
  z-index:1400;
}
#themeToggle:hover{background:var(--primary);}
#confirmOverlay.modal-overlay{z-index:1600;}

/* ===== Skeleton ===== */
.skeleton{
  position:absolute;inset:0;
  background:linear-gradient(90deg,#e1e1e1 0%,#f0f0f0 40%,#e1e1e1 80%);
  background-size:200% 100%;
  animation:skeletonAnim 1.2s infinite;
}
@keyframes skeletonAnim{from{background-position:200% 0}to{background-position:-200% 0}}
.img-wrap.loading img{opacity:0;}
.img-wrap.loading .skeleton{display:block;}
.role-badge{
  padding:2px 6px;border-radius:var(--radius);
  font-size:.75rem;font-weight:500;color:#fff;
}
.role-badge.admin{background:#d6336c;}
.role-badge.user {background:#0ca678;}

.cart-table thead tr{background:var(--light);position:sticky;top:0;z-index:1;}

.admin-header{
  display:flex;flex-direction:column;align-items:center;gap:.8rem;
  margin-bottom:1.5rem;
}
.admin-header h2{margin:0;}
.search-box{
  width:240px;padding:.45rem .6rem;border:1px solid #ddd;
  border-radius:var(--radius);font-size:.9rem;
}

.action-btn{
  padding:.3rem .9rem;border:none;border-radius:var(--radius);
  cursor:pointer;font-size:.8rem;font-weight:500;
  background:var(--primary);color:#fff;transition:opacity .15s;
}
.action-btn:hover{opacity:.85;}
.action-btn.danger{background:var(--danger);}
.product-card.low-stock{border:2px dashed var(--danger);}
.admin-menu .danger{color:var(--danger);}
#buyersTable td,#buyersTable th{padding:.4rem;text-align:center;}
.role-badge.seller{background:#845ec2;}
.action-btn.seller-btn{background:#845ec2;}

